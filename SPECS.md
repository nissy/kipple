# ユーザー機能一覧

## クリップボード履歴
コピーされたテキストは自動保存され、履歴リストに時刻・元アプリ・ウィンドウタイトル付きで追加されます。リスト上部の検索バーは300msデバウンスで全文検索を反映します。

左サイドにはピン、URL、ユーザーカテゴリのフィルタが並び、クリックで対象アイテムだけを表示します。行をホバーすると500文字までのプレビューと文字数・コピー時刻を含むポップオーバーが開き、スクロール末尾では50件単位でページングされます。

## エディタと貼り付け操作
行番号付きエディタは上下いずれかに配置でき、分割バーで履歴との割合を調整します。履歴行は修飾キー＋クリックでエディタへ挿入でき、直後にUserDefaultsへ一時保存されます。

`Copy` ボタンや設定ホットキーでエディタ内容をシステムクリップボードへ送り、成功時は2秒間のコピー通知を表示します。`Clear` ボタンまたは指定ショートカットで即時クリアし、履歴の検索語やフィルタもリセットされます。

## カテゴリと整理機能
カテゴリ管理画面では任意の名称とSF Symbolsアイコンを選び、フィルタへの表示有無も切り替えられます。空白名は追加できず、削除時は該当アイテムが自動で `None` カテゴリに移動します。

履歴行のメニューからカテゴリを即時変更したり、`Manage Categories…` で設定画面を開いたりできます。ピン留めは最大50件で、超過すると `pinLimitReached` 通知が表示されて操作が無効化されます。

## テキストキャプチャ (OCR)
グローバルホットキーを押すとクロスヘア付きオーバーレイが全ディスプレイに展開します。ESCでキャンセル、ドラッグで矩形選択、クリックで確定でき、操作中はカーソルが十字に固定されます。

選択範囲は Vision の `VNRecognizeTextRequest` でOCRされ、文字が検出できない場合はアラートが表示されます。成功時はシャッター音とともにテキストがクリップボードと履歴へ保存され、メインウィンドウとコピー通知が自動表示されます。

## 設定とホットキー
「General」タブでは自動起動、メインウィンドウのホットキー、ウィンドウアニメーションを設定できます。テキストキャプチャホットキーはScreen Recording権限があるときにのみ有効で、既存ショートカットと重複するとエラーが表示されます。

「Editor」「Clipboard」タブでは検索付きピッカーでフォントとフォールバックを選び、フォントサイズを10〜24ptで調整します。エディタコピー／クリアショートカット、履歴挿入修飾キー、リンクアクションクリック修飾キーは変更直後にアプリへ反映されます。

## データ管理と自動消去
履歴上限（10〜1000件）とピン留め上限（1〜100件）はStepperと入力フィールドで調整し、変更すると `ModernClipboardServiceAdapter` が即時に履歴を再計算します。履歴クリアは確認ダイアログを伴い、削除件数を完了モーダルで通知します。

自動消去は1〜1440分の範囲で設定でき、残り時間がウィンドウ下部に分:秒表記で表示されます。タイマーが0になるとシステムクリップボードのみが空になり、履歴は保持されます。設定を切り替えた場合はタイマーがリセットされます。

## ウィンドウと通知
下部バーには現在のクリップボード内容が表示され、`X` ボタンで即時クリアできます。自動消去を有効にした場合のみ残り時間のタイマーがアクティブになり、カプセル状の背景に収まります。

右端のギアアイコンから設定ウィンドウを開き、ピンボタンでAlways on Topを切り替えます。固定中はコピー通知を残したまま操作を継続でき、解除するとコピー完了後にウィンドウが自動で閉じます。リンクアイテムは設定した修飾キー入力中のみ下線が付き、そのままクリックでURLを開けます。

## プライバシーと情報
「About」画面ではアプリアイコン、バージョン、キャッチコピーを表示し、GitHubリポジトリを開くリンクボタンを提供します。プライバシー説明はローカル保存、外部通信なし、macOSセキュリティ活用、いつでも削除可能の4項目をアイコン付きで掲示します。

設定値・履歴・カテゴリはすべてUserDefaultsに保存され、ネットワーク送信コードは存在しません。ユーザーは履歴クリアやアプリ削除でデータを即時消去でき、外部依存なく管理が完結します。
